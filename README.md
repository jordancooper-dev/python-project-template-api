# Python Project Template

A modern Python project template with uv package manager, strict type checking, comprehensive linting, and pre-commit hooks.

## Features

- **uv** - Fast Python package manager and project management
- **Ruff** - Linting and formatting (replaces Black, isort, flake8, pylint)
- **mypy + Pyright** - Dual type checking for maximum coverage
- **pytest** - Testing with coverage reporting
- **pre-commit** - Automated code quality checks on commit
- **VSCode** - Pre-configured settings, extensions, and debugging

## Project Structure

```text
project-root/
├── .vscode/                    # VSCode workspace settings
│   ├── extensions.json         # Recommended extensions
│   ├── launch.json             # Debug configurations
│   ├── settings.json           # Editor and tool settings
│   └── tasks.json              # Automated tasks
├── app/                        # Application source code
├── docs/                       # Documentation
├── tests/                      # Test files
├── .env                        # Environment variables (not committed)
├── .gitignore                  # Git ignore patterns
├── .markdownlintignore         # Markdownlint ignore patterns
├── .markdownlintrc             # Markdownlint configuration
├── .pre-commit-config.yaml     # Pre-commit hooks configuration
├── .python-version             # Python version for uv/pyenv
├── pyproject.toml              # Project metadata and tool configuration
├── README.md                   # This file
└── uv.lock                     # Locked dependencies
```

## File Descriptions

### Root Configuration Files

| File              | Purpose                                                                                                                                            |
| ----------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| `pyproject.toml`  | Project metadata, dependencies, and configuration for pytest, Ruff, mypy, Pyright, and Bandit. The single source of truth for most Python tooling. |
| `uv.lock`         | Lock file generated by uv containing exact dependency versions. Ensures reproducible builds.                                                       |
| `.python-version` | Specifies the Python version (e.g., `3.14`). Used by uv and pyenv to select the correct interpreter.                                               |
| `.gitignore`      | Patterns for files Git should ignore (caches, virtual environments, build artifacts, IDE files, etc.).                                             |
| `.env`            | Environment variables for local development. Never commit secrets - use `.env.example` as a template.                                              |

### Pre-commit and Linting

| File                      | Purpose                                                                                                                                                          |
| ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `.pre-commit-config.yaml` | Defines hooks that run before each commit: Ruff (lint/format), mypy, Pyright, Bandit (security), Prettier (YAML/JSON), markdownlint, and file validation checks. |
| `.markdownlintrc`         | Configuration for markdownlint (line length, ordered list style, etc.). JSON format required - cannot be in pyproject.toml.                                      |
| `.markdownlintignore`     | Files/folders markdownlint should skip (docs/, htmlcov/, .venv/).                                                                                                |

### VSCode Configuration (.vscode/)

| File              | Purpose                                                                                                                                            |
| ----------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| `settings.json`   | Workspace settings: Ruff as formatter, format-on-save, strict type checking (Pylance), pytest configuration, file exclusions for cleaner explorer. |
| `extensions.json` | Recommended extensions: Python, Pylance, Ruff, mypy, Jupyter, debugpy. VSCode prompts to install these when opening the project.                   |
| `launch.json`     | Debug configurations. Includes "Python: Debug Tests" for debugging pytest with coverage disabled.                                                  |
| `tasks.json`      | Automated tasks runnable via Command Palette. Includes `uv-sync` for dependency synchronization.                                                   |

### Source Directories

| Directory | Purpose                                                       |
| --------- | ------------------------------------------------------------- |
| `app/`    | Application source code. Add your Python modules here.        |
| `tests/`  | Test files. pytest discovers `test_*.py` files automatically. |
| `docs/`   | Documentation files (optional).                               |

## Quick Start

### Creating a New Project from This Template

1. **Create a new repository from this template:**
   - Click the green **"Use this template"** button at the top of this repository
   - Select **"Create a new repository"**
   - Enter your new project name and click **"Create repository"**

2. **Clone your new repository:**

   ```bash
   git clone https://github.com/YOUR_USERNAME/your-new-project.git
   cd your-new-project
   ```

3. **Rename the project** (update these files with your project name):
   - `pyproject.toml` - Change `name` and `[project.scripts]` entry
   - `app/main.py` - Update the greeting message (optional)

4. **Install dependencies:**

   ```bash
   uv sync
   ```

5. **Install pre-commit hooks:**

   ```bash
   uv run pre-commit install
   ```

6. **Verify setup:**

   ```bash
   uv run pre-commit run --all-files
   ```

7. **Start coding!**

## Development

### Install Dependencies

```bash
uv sync
```

### Add a Dependency

```bash
uv add package-name           # Runtime dependency
uv add --group dev package    # Development dependency
```

### Run Tests

```bash
uv run pytest                 # Run all tests
uv run pytest -v              # Verbose output
uv run pytest -k "test_name"  # Run specific test
uv run pytest --no-cov        # Skip coverage (faster)
```

### Run Linting and Formatting

```bash
uv run ruff check .           # Lint
uv run ruff check --fix .     # Lint and auto-fix
uv run ruff format .          # Format code
```

### Run Type Checking

```bash
uv run mypy app               # mypy
uv run pyright                # Pyright
```

### Run Pre-commit Checks

```bash
uv run pre-commit run --all-files   # Run all hooks
uv run pre-commit run ruff-check    # Run specific hook
```

### Update Pre-commit Hooks

```bash
uv run pre-commit autoupdate
```

## Tool Configuration Reference

All Python tools are configured in `pyproject.toml`:

| Tool    | Section                     | Purpose                                        |
| ------- | --------------------------- | ---------------------------------------------- |
| pytest  | `[tool.pytest.ini_options]` | Test discovery, markers, coverage settings     |
| Ruff    | `[tool.ruff]`               | Linting rules, formatting, import sorting      |
| mypy    | `[tool.mypy]`               | Type checking strictness, per-module overrides |
| Pyright | `[tool.pyright]`            | Type checking, include/exclude patterns        |
| Bandit  | `[tool.bandit]`             | Security scanning exclusions                   |

Tools that require separate config files (Node.js-based):

| Tool         | Config File                          |
| ------------ | ------------------------------------ |
| markdownlint | `.markdownlintrc`                    |
| Prettier     | Uses defaults (or add `.prettierrc`) |

## VSCode Usage

### Recommended Workflow

1. Open the project folder in VSCode
2. Install recommended extensions when prompted
3. Code is automatically formatted and linted on save
4. Type errors appear inline via Pylance
5. Debug tests by opening a test file and pressing F5

### Useful Commands

- `Ctrl+Shift+P` > "Tasks: Run Task" > "uv-sync" - Sync dependencies
- `Ctrl+Shift+P` > "Python: Select Interpreter" - Choose Python version
- `F5` (in test file) - Debug current test file

## Customization

### Renaming the Project

When creating a new project from this template, update the following locations:

1. **pyproject.toml** - Update the `[project]` section:

   ```toml
   [project]
   name = "your-project-name"    # Change this

   [project.scripts]
   your-project-name = "app.main:main"    # Change the command name
   ```

2. **app/main.py** - Update the greeting (optional):

   ```python
   print("Hello from your-project-name!")
   ```

3. **Folder name** - Rename the project folder to match your project name

After renaming, run `uv sync` to update the lock file and reinstall with the new name.

### Changing Python Version

1. Update `.python-version`
2. Update `requires-python` in `pyproject.toml`
3. Update `pythonVersion` in `[tool.mypy]` and `[tool.pyright]`
4. Update `target-version` in `[tool.ruff]`

### Adding New Ruff Rules

Edit `lint.select` in `[tool.ruff]` section of `pyproject.toml`.
See [Ruff rules](https://docs.astral.sh/ruff/rules/) for available rules.

### Relaxing Type Checking

- For mypy: Add modules to `[[tool.mypy.overrides]]`
- For Pyright: Set specific `report*` options to `"none"` or `"warning"`
